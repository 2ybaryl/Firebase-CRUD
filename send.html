<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send</title>
</head>
<body>
    <div class="container">
        <h1>Send Data</h1>
        <div class="form">
            <label>Name</label>
            <input type = "text">
            <label>Email</label>
            <input type = "text">
            <label>Message</label>
            <textarea></textarea>
            <button>Submit</button>
        </div>
        <a class = "view" href = "fetch.html">View Data</a>
    </div>
    <!-- add firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-database-compat.js"></script>

<script>
    const firebaseConfig = {
    databaseURL: "https://test-9e2b7-default-rtdb.asia-southeast1.firebasedatabase.app/"
}
firebase.initializeApp(firebaseConfig)
const database = firebase.database()

const submit = document.querySelector('button');
submit.onclick = () => sendData()

function sendData(){
    var name = document.querySelectorAll('input')[0];
    var email = document.querySelectorAll('input')[1];
    var message = document.querySelector('textarea');
    // send data
var listRef = database.ref('messages/')
var newRef = listRef.push()
newRef.set({
    'name': name.value,
    'email': email.value,
    'message': message.value
})
console.log("Data sent");
}
</script>
</body>
</html>